<div class="container">
  <app-profile-header></app-profile-header>
  <h1 class="header">Vendors</h1>

  <div class="portion">

    <form class="search-form" #search ="ngForm">
      <input class="search" type="text" name="search-vendor" placeholder="Search Vendor" required [(ngModel)]="body.email">
      <button class="img-btn" (click)="onFind(search)" type="submit"><img src="./../../assets/icon.svg">  </button>
    </form>

    <div *ngIf="postErrorFind" class="message-failure">
      {{ postErrorMessageFind +'!'}}
    </div>

    <div *ngIf="postSuccessFind" class="message-success">
      {{ postSuccessMessageFind +'!'}}
    </div>

    <form #form ="ngForm" enctype="multipart/form-data">
      <div class="form-container">
        <div class="form-row">
          <label class="form-label" for="id">Vendor Name:</label>
          <input class="form-input" style="margin-left: 20px;" name="vendor-name" type="text" placeholder="Enter Vendor Name" required [(ngModel)]="vendorForm.vendor_name"><br>

          <label class="form-label" for="id">Email:</label>
          <input class="form-input" *ngIf="!updateTrue" style="margin-left: 76px;" name="vendor-email" type="text" placeholder="Enter Vendor Email" required [(ngModel)]="vendorForm.email">
          <input class="form-input" *ngIf="updateTrue" readonly style="margin-left: 76px;" name="vendor-email" type="text" placeholder="Enter Vendor Email" required [(ngModel)]="vendorForm.email"><br>

          <label class="form-label" for="id">Picture:</label>
          <input class="form-input-file" style="margin-left: 68px;" name="url" type="file" id="fileUpload" (change)="selectImage($event)">


        </div>
        <div class="form-row">

          <label class="form-label" for="id">Mobile:</label>
          <input class="form-input" style="margin-left: 97px;" name="vendor-mobile" type="text" placeholder="Enter Mobile No" required [(ngModel)]="vendorForm.mobile_no"><br>

          <label class="form-label" for="id">Description:</label>
          <input class="form-input" style="margin-left: 65px;" name="vendor-description" type="text" placeholder="Enter Description" required [(ngModel)]="vendorForm.description"><br>

          <label class="form-label">Access:</label>
          <select class="form-input" name="vendor-access" style="margin-left: 99px;" required [(ngModel)]="vendorForm.access">
            <option value="" disabled selected hidden>Set Access</option>
            <option value="open">Open</option>
            <option value="blocked">Blocked</option>
          </select>
        </div>
      </div>
      <div *ngIf="postError" class="message-failure">
        {{ postErrorMessage +'!'}}
      </div>

      <div *ngIf="postSuccess" class="message-success">
        {{ postSuccessMessage +'!'}}
      </div>
      <div class="buttons-div">
        <button [ngClass]="updateTrue == false ? 'form-button' : 'disabled'" class="form-button" (click)="onSubmit(form)">INSERT VENDOR</button>
        <button [ngClass]="updateTrue == true ? 'form-button' : 'disabled'" class="form-button" (click)="onUpdate(form)">UPDATE VENDOR</button>
        <button [ngClass]="updateTrue == true ? 'form-button' : 'disabled'" class="form-button" (click)="onDelete(form)">DELETE VENDOR</button>
        <button [ngClass]="updateTrue == true ? 'form-button' : 'disabled'" class="form-button  red" (click)="onCancel()">CANCEL</button>
      </div>
    </form>
  </div>
</div>
